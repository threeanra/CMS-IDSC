(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[64],{2221:function(e,a,l){Promise.resolve().then(l.bind(l,1875))},8928:function(e,a,l){"use strict";l.d(a,{Z:function(){return s}});var t=l(7437),n=l(3896);l(2265);var i=l(8360);function s(e){let a={primary:"bg-blue-600 hover:bg-blue-500",neutral:"bg-gray-600 hover:bg-gray-500",error:"bg-red-600 hover:bg-red-500",success:"bg-green-600 hover:bg-green-500"}[e.color||"primary"];return(0,t.jsxs)("button",{className:"text-white font-bold btn-".concat(e.size," ").concat(a," text-md rounded-md px-4 py-2 flex items-center justify-center"),onClick:e.disabled||e.loading?void 0:e.onClick,disabled:e.disabled||e.loading,style:{width:e.width,opacity:e.disabled||e.loading?.5:1,pointerEvents:e.disabled||e.loading?"none":"auto",...e.style},children:[e.icon&&!e.loading&&(0,t.jsx)(n.G,{icon:e.icon,className:"mr-2"}),e.loading?(0,t.jsx)(i.Z,{type:"sm"}):e.title]})}},8921:function(e,a,l){"use strict";l.d(a,{Z:function(){return r}});var t=l(7437);l(2265);var n=l(5079);function i(e){let{type:a,title:l}=e;return(0,t.jsx)("div",{className:"badge ".concat({neutral:"bg-gray-600 hover:bg-gray-500",accent:"bg-blue-600 hover:bg-blue-500",secondary:"bg-yellow-600 hover:bg-yellow-500",success:"bg-green-600 hover:bg-green-500",warning:"bg-orange-600 hover:bg-orange-500",error:"bg-red-600 hover:bg-red-500"}[a]," text-white p-3 flex items-center justify-center rounded-md"),children:l})}var s=l(8928);let o=e=>{switch(e){case"approved":return{type:"success",title:"Disetujui"};case"on review":return{type:"warning",title:"Ditinjau"};case"rejected":return{type:"error",title:"Ditolak"};case"pending":return{type:"secondary",title:"Perbaikan"};default:return{type:"neutral",title:"Terdaftar"}}};function r(e){let{data:a=[],onViewDetails:l}=e;return(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"table text-md",children:[(0,t.jsx)("thead",{className:"text-md",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Nama Bisnis Owner"}),(0,t.jsx)("th",{children:"Email"}),(0,t.jsx)("th",{children:"Status Bo Info"}),(0,t.jsx)("th",{children:"Status Document"}),(0,t.jsx)("th",{children:"Aksi"})]})}),(0,t.jsx)("tbody",{children:a.map((e,a)=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:e.name}),(0,t.jsx)("td",{children:e.email}),(0,t.jsx)("td",{children:e.boInfos?(0,t.jsx)(i,{type:o(e.boInfos.status).type,title:o(e.boInfos.status).title}):"No Info"}),(0,t.jsx)("td",{children:e.legalDokumen?(0,t.jsx)(i,{type:o(e.legalDokumen.status).type,title:o(e.legalDokumen.status).title}):"No Info"}),(0,t.jsx)("td",{children:(0,t.jsx)(s.Z,{title:"Lihat",icon:n.Mdf,size:"sm",width:100,disabled:null==e.boInfos,onClick:()=>l(e)})})]},a))})]})})}},7456:function(e,a,l){"use strict";l.d(a,{Z:function(){return i}});var t=l(7437),n=l(3896);function i(e){return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"bg-primary mb-5 rounded-lg p-5 flex text-lg content-center items-center gap-3 text-white ",children:[(0,t.jsx)(n.G,{icon:e.icon}),(0,t.jsx)("span",{children:e.title})]})})}l(2265)},9340:function(e,a,l){"use strict";l.d(a,{Z:function(){return n}});var t=l(7437);function n(e){return(0,t.jsxs)("div",{className:"form-control w-full flex md:flex-row flex-col md:items-center mb-5",children:[(0,t.jsx)("div",{className:"label min-w-56",children:(0,t.jsx)("span",{className:"label-text font-bold text-base",children:e.label})}),(0,t.jsx)("div",{className:"w-full",children:(0,t.jsx)("input",{type:e.type,value:e.value,disabled:!0,className:"input disabled:bg-blue-100 disabled:text-black disabled:border-gray-200 disabled:shadow-none input-bordered w-full input-primary rounded-md "})})]})}l(2265)},8360:function(e,a,l){"use strict";l.d(a,{Z:function(){return n}});var t=l(7437);function n(e){let{type:a,size:l,w:n,h:i}=e;return(0,t.jsx)("span",{className:"loading loading-".concat(a," loading-").concat(l," ").concat(n," ").concat(i)})}},6093:function(e,a,l){"use strict";l.d(a,{Z:function(){return n}});var t=l(7437);function n(e){return(0,t.jsxs)("div",{className:"form-control w-full flex md:flex-row flex-col md:items-center mb-5",children:[(0,t.jsx)("div",{className:"label min-w-56",children:(0,t.jsx)("span",{className:"label-text font-bold text-base",children:e.label})}),(0,t.jsx)("div",{className:"w-full",children:(0,t.jsx)("textarea",{value:e.value,disabled:!0,className:"textarea resize-none disabled:bg-blue-100 disabled:text-black disabled:border-gray-200 disabled:shadow-none w-full textarea-bordered rounded-md textarea-primary textarea-md h-[180px]"})})]})}l(2265)},1875:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return j}});var t=l(7437),n=l(2265),i=l(5079),s=l(7456),o=l(8921),r=l(8928),d=l(9340),u=l(6093),c=l(3896),m=l(4787);function b(e){let{title:a,onClose:l,onSubmit:s,reason:o,setReason:r,modalType:d}=e,u=(0,n.useRef)(null),[b,v]=n.useState(""),[x,k]=n.useState([]),[h,f]=n.useState("Select");(0,n.useEffect)(()=>{u.current&&u.current.showModal()},[]);let p=e=>{f(e),k([]),r("")};return(0,t.jsx)("dialog",{ref:u,className:"modal pr-3",children:(0,t.jsxs)("div",{className:"modal-box h-[700px] flex flex-col justify-between",children:[(0,t.jsxs)("div",{className:"bg-primary mb-5 rounded-lg p-5 flex text-lg content-center items-center gap-3 text-white ",children:[(0,t.jsx)(c.G,{icon:i.gMD}),(0,t.jsx)("span",{children:a})]}),(0,t.jsxs)("div",{className:"flex bg-gray-200 rounded-md w-full p-3",children:[(0,t.jsx)("button",{onClick:()=>p("Select"),className:"py-2 px-4 w-full text-black transition-all duration-300 rounded-md \n          ".concat("Select"===h?"bg-white shadow":""),children:"Pilih"}),(0,t.jsx)("button",{onClick:()=>p("Masukkan Pesan Khusus"),className:"py-2 px-4 w-full text-black transition-all duration-300 rounded-md \n          ".concat("Masukkan Pesan Khusus"===h?"bg-white shadow":""),children:"Masukkan Pesan Khusus"})]}),(0,t.jsxs)("div",{className:"flex-grow mt-4",children:["Select"===h?(0,t.jsx)(m.ZP,{isMulti:!0,name:"reasons",options:"boInfo"===d?[{value:"Nama Bisnis Owner tidak sesuai",label:"Nama Bisnis Owner tidak sesuai"},{value:"Nama Bisnis Owner terdapat simbol",label:"Nama Bisnis Owner terdapat simbol"},{value:"Nama Bisnis tidak sesuai",label:"Nama Bisnis tidak sesuai"},{value:"Nama Bisnis terdapat simbol",label:"Nama Bisnis terdapat simbol"},{value:"Nama Bisnis tidak sesuai",label:"Nama Bisnis tidak sesuai"},{value:"Email tidak valid",label:"Email tidak valid"},{value:"Format email salah",label:"Format email salah"},{value:"Telepon tidak valid",label:"Telepon tidak valid"},{value:"Telepon tidak sesuai standar",label:"Telepon tidak sesuai standar"},{value:"Nomor handphone tidak dapat dihubungi",label:"Nomor handphone tidak dapat dihubungi"},{value:"Nomor handphone tidak valid",label:"Nomor handphone tidak valid"},{value:"Nomor handphone tidak sesuai standar",label:"Nomor handphone tidak sesuai standar"},{value:"Nomor handphone tidak dapat dihubungi",label:"Nomor handphone tidak dapat dihubungi"},{value:"Nomor handphone tidak valid",label:"Nomor handphone tidak valid"},{value:"Alamat tidak sesuai",label:"Alamat tidak sesuai"},{value:"Alamat tidak valid",label:"Alamat tidak valid"}]:[{value:"KTP palsu atau tidak terverifikasi",label:"KTP palsu atau tidak terverifikasi"},{value:"Dokumen tidak lengkap atau tidak jelas",label:"Dokumen tidak lengkap atau tidak jelas"},{value:"Akta tidak asli atau terdapat tanda-tanda pemalsuan",label:"Akta tidak asli atau terdapat tanda-tanda pemalsuan"},{value:"Dokumen tidak sah",label:"Dokumen tidak sah"},{value:"Akta tidak valid/palsu",label:"Akta tidak valid/palsu"},{value:"Dokumen palsu atau tidak terdaftar",label:"Dokumen palsu atau tidak terdaftar"},{value:"SK sudah tidak berlaku atau kedaluwarsa",label:"SK sudah tidak berlaku atau kedaluwarsa"},{value:"Informasi dalam SK tidak sesuai",label:"Informasi dalam SK tidak sesuai"},{value:"Dokumen NPWP tidak jelas",label:"Dokumen NPWP tidak jelas"},{value:"NPWP sudah tidak aktif",label:"NPWP sudah tidak aktif"},{value:"Terdapat perbedaan informasi",label:"Terdapat perbedaan informasi"},{value:"NIB tidak valid atau palsu.",label:"NIB tidak valid atau palsu."},{value:"Dokumen NIB tidak jelas atau buram",label:"Dokumen NIB tidak jelas atau buram"},{value:"Informasi NIB tidak sesuai",label:"Informasi NIB tidak sesuai"},{value:"Sertifikat ISO sudah kedaluwarsa",label:"Sertifikat ISO sudah kedaluwarsa"},{value:"Nomor sertifikat tidak valid",label:"Nomor sertifikat tidak valid"},{value:"Sertifikat ISO tidak sesuai",label:"Sertifikat ISO tidak sesuai"}],className:"basic-multi-select",classNamePrefix:"select",value:x,onChange:e=>k(e),placeholder:"Pilih alasan..."}):(0,t.jsx)("textarea",{placeholder:"Berikan alasan khusus...",className:"textarea resize-none w-full textarea-bordered rounded-md textarea-primary h-[260px]",value:o,onChange:e=>r(e.target.value)}),b&&(0,t.jsx)("p",{className:"text-red-500 mt-2",children:b})]}),(0,t.jsxs)("div",{className:"modal-action mt-4 flex justify-end",children:[(0,t.jsx)("button",{className:"btn bg-primary hover:bg-primary text-white rounded-md",onClick:()=>{let e="Select"===h;if(e&&0===x.length)v("Alasan tidak boleh kosong");else if(e||""!==o.trim()){let a=e?x.map(e=>e.value).join(", "):o;v(""),s(a)}else v("Alasan khusus tidak boleh kosong")},children:"Kirim"}),(0,t.jsx)("button",{type:"button",className:"btn bg-error hover:bg-error text-white rounded-md",onClick:()=>{u.current&&u.current.close(),l()},children:"Keluar"})]})]})})}function v(e){let{title:a,onClose:l,onSubmit:s,reason:o,setReason:r}=e,d=(0,n.useRef)(null),[u,m]=n.useState("");return(0,n.useEffect)(()=>{d.current&&d.current.showModal()},[]),(0,t.jsx)("dialog",{ref:d,className:"modal pr-3",children:(0,t.jsxs)("div",{className:"modal-box flex flex-col justify-between",children:[(0,t.jsxs)("div",{className:"bg-primary mb-5 rounded-lg p-5 flex text-lg content-center items-center gap-3 text-white",children:[(0,t.jsx)(c.G,{icon:i.gMD}),(0,t.jsx)("span",{children:a})]}),(0,t.jsx)("textarea",{placeholder:"Berikan alasan khusus...",className:"textarea resize-none w-full textarea-bordered rounded-md textarea-primary h-[200px]",value:o,onChange:e=>r(e.target.value)}),u&&(0,t.jsx)("p",{className:"text-red-500 mt-2",children:u}),(0,t.jsxs)("div",{className:"modal-action mt-4 flex justify-end",children:[(0,t.jsx)("button",{className:"btn bg-primary hover:bg-primary text-white rounded-md",onClick:()=>{""===o.trim()?m("Alasan tidak boleh kosong"):(m(""),s(o))},children:"Kirim"}),(0,t.jsx)("button",{type:"button",className:"btn bg-error hover:bg-error text-white rounded-md",onClick:()=>{d.current&&d.current.close(),l()},children:"Keluar"})]})]})})}var x=l(998),k=l(8472);function h(e){let{label:a,link:l}=e,n=()=>{window.open(l,"_blank")};return(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("div",{className:"label flex flex-col justify-start items-start",children:(0,t.jsx)("span",{className:"label-text font-bold text-base",children:a})}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("input",{onClick:n,value:"Click Here",readOnly:!0,className:"w-full items-center text-center cursor-pointer hover:bg-blue-100 duration-300 rounded-r-none rounded-l-md input input-bordered"}),(0,t.jsx)("button",{className:"btn bg-primary hover:bg-primary rounded-l-none rounded-r-md text-white font-bold",onClick:n,children:"Check file"})]})]})}var f=l(4379),p=l.n(f);let g=(e,a)=>{p().fire({title:"Apakah kamu yakin?",icon:e,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Iya",cancelButtonText:"Tidak"}).then(e=>{e.isConfirmed&&p().fire({title:"Berhasil!",text:"Sudah terkonfirmasi",icon:"success"}).then(()=>{a()})})};function j(){var e,a,l,c,m,f,p,j,N,w,y,I,S;let[D,B]=(0,n.useState)(0),[C,P]=(0,n.useState)([]),[Z,T]=(0,n.useState)(null),[A,O]=(0,n.useState)(!1),[K,E]=(0,n.useState)(!1),[z,M]=(0,n.useState)(""),[_,F]=(0,n.useState)(""),[L,R]=(0,n.useState)(!1),[W,G]=(0,n.useState)(!1),{data:q}=(0,x.useSession)(),H=null==q?void 0:null===(e=q.user)||void 0===e?void 0:e.token,U=function(e,a){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!H)throw Error("Token tidak ditemukan");return(0,k.Z)({method:a,url:"".concat("http://103.172.205.204:3001/api").concat(e),data:l,headers:{Authorization:"Bearer ".concat(H),"Content-Type":"application/json"}})};(0,n.useEffect)(()=>{(async()=>{try{let e=await U("/bisnis-owners/","GET");P(e.data)}catch(e){console.error("Error fetching data:",e),P([])}})()},[H,D]);let V="\n    ".concat((null==Z?void 0:null===(l=Z.boInfos)||void 0===l?void 0:null===(a=l.address)||void 0===a?void 0:a.trim())||"",", ").concat((null==Z?void 0:null===(m=Z.boInfos)||void 0===m?void 0:null===(c=m.village)||void 0===c?void 0:c.trim())||"",", ").concat((null==Z?void 0:null===(p=Z.boInfos)||void 0===p?void 0:null===(f=p.subdistrict)||void 0===f?void 0:f.trim())||"",", ").concat((null==Z?void 0:null===(N=Z.boInfos)||void 0===N?void 0:null===(j=N.city)||void 0===j?void 0:j.trim())||"",", ").concat((null==Z?void 0:null===(y=Z.boInfos)||void 0===y?void 0:null===(w=y.province)||void 0===w?void 0:w.trim())||"",", ").concat((null==Z?void 0:null===(S=Z.boInfos)||void 0===S?void 0:null===(I=S.postal_code)||void 0===I?void 0:I.trim())||"","\n  ").trim(),J=()=>{var e;let a=null==Z?void 0:null===(e=Z.legalDokumen)||void 0===e?void 0:e.status;return["approved","rejected"].includes(a)?null:(0,t.jsxs)("div",{className:"flex justify-end gap-2 flex-col md:flex-row mb-3",children:[(0,t.jsx)(r.Z,{title:"Revisi",size:"md",onClick:()=>{X("Alasan untuk ditinjau (Dokumen Legal)"),G(!0)}}),!W&&"on review"!==a&&(0,t.jsx)(r.Z,{color:"neutral",title:"Menunggu",size:"md",onClick:()=>{var e;Q(null==Z?void 0:null===(e=Z.legalDokumen)||void 0===e?void 0:e.id,"on review","legalDoc"),G(!0)}}),(0,t.jsx)(r.Z,{color:"error",title:"Tolak",size:"md",onClick:()=>{Y("Alasan untuk ditolak (Dokumen Legal)"),G(!0)}}),(0,t.jsx)(r.Z,{color:"success",title:"Setujui",size:"md",onClick:()=>{g("question",()=>{var e;return Q(null==Z?void 0:null===(e=Z.legalDokumen)||void 0===e?void 0:e.id,"approved","legalDoc")}),G(!0)}})]})},Q=async(e,a,l,t)=>{try{var n;await U("boInfo"===l?"/bo-infos/".concat(e,"/status"):"/legal-dokumen/".concat(e,"/status"),"PUT",{status:a,reason:t}),"boInfo"===l&&"rejected"===a&&(null==Z?void 0:null===(n=Z.legalDokumen)||void 0===n?void 0:n.id)&&await U("/legal-dokumen/".concat(Z.legalDokumen.id,"/status"),"PUT",{status:"rejected",reason:"Ditolak karena bisnis owner ditolak"}),O(!1),E(!1),B(0),console.log({status:a,reason:t})}catch(e){console.error("Error updating status with reason:",e)}},X=e=>{M(e),O(!0)},Y=e=>{M(e),E(!0)},$=(e,a)=>{var l,t;let n=z.includes("Dokumen Legal")?"legalDoc":"boInfo";Q("legalDoc"===n?null==Z?void 0:null===(l=Z.legalDokumen)||void 0===l?void 0:l.id:null==Z?void 0:null===(t=Z.boInfos)||void 0===t?void 0:t.id,e,n,a)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.Z,{title:"Bisnis Owner Info",icon:i.gMD}),(0,t.jsx)("div",{className:"pb-10",children:0===D?(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsx)("div",{className:"text-lg font-bold",children:"Informasi Bisnis Owner"}),(0,t.jsx)(o.Z,{data:C,onViewDetails:e=>{T(e),B(1)}})]}):(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsx)(r.Z,{width:130,title:"Kembali",size:"md",icon:i.acZ,onClick:()=>B(0)}),Z&&Z.boInfos&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Z,{type:"text",label:"Nama Bisnis Owner",value:Z.name}),(0,t.jsx)(d.Z,{type:"text",label:"Tipe Bisnis",value:Z.boInfos.businessType}),(0,t.jsx)(d.Z,{type:"text",label:"Nama Bisnis",value:Z.boInfos.businessName}),(0,t.jsx)(d.Z,{type:"text",label:"Email Bisnis",value:Z.boInfos.businessEmail}),(0,t.jsx)(d.Z,{type:"text",label:"Telepon",value:Z.boInfos.phone}),(0,t.jsx)(d.Z,{type:"text",label:"Nomor HP",value:Z.boInfos.mobile}),(0,t.jsx)(u.Z,{label:"Alamat",value:V}),(()=>{var e;let a=null==Z?void 0:null===(e=Z.boInfos)||void 0===e?void 0:e.status;return["approved","rejected"].includes(a)?null:(0,t.jsxs)("div",{className:"flex justify-end gap-2 flex-col md:flex-row mb-3",children:[(0,t.jsx)(r.Z,{title:"Revisi",size:"md",onClick:()=>{X("Alasan untuk ditinjau (Bisnis Owner Info)"),R(!0)}}),!L&&"on review"!==a&&(0,t.jsx)(r.Z,{color:"neutral",title:"Menunggu",size:"md",onClick:()=>{var e,a;Q(null==Z?void 0:null===(e=Z.boInfos)||void 0===e?void 0:e.id,"on review","boInfo"),console.log(null==Z?void 0:null===(a=Z.boInfos)||void 0===a?void 0:a.id),R(!0)}}),(0,t.jsx)(r.Z,{color:"error",title:"Tolak",size:"md",onClick:()=>{Y("Alasan untuk ditolak (Bisnis Owner Info)"),R(!0)}}),(0,t.jsx)(r.Z,{color:"success",title:"Setujui",size:"md",onClick:()=>{g("question",()=>{var e;return Q(null==Z?void 0:null===(e=Z.boInfos)||void 0===e?void 0:e.id,"approved","boInfo")}),R(!0)}})]})})()]}),(0,t.jsx)(s.Z,{title:"Dokumen Legal",icon:i.gMD}),(()=>{var e;let a=null==Z?void 0:Z.legalDokumen,l=null==Z?void 0:null===(e=Z.boInfos)||void 0===e?void 0:e.businessType;return a?(0,t.jsxs)(t.Fragment,{children:["Perusahaan"===l&&(0,t.jsxs)(t.Fragment,{children:[a.ktp&&(0,t.jsx)(h,{label:"KTP Direktur Berdasarkan Akta",link:a.ktp}),a.akta&&(0,t.jsx)(h,{label:"Akta Perusahaan",link:a.akta}),a.sk_kemenkumham&&(0,t.jsx)(h,{label:"SK Kemenkumham",link:a.sk_kemenkumham}),a.npwp&&(0,t.jsx)(h,{label:"NPWP",link:a.npwp}),a.nib&&(0,t.jsx)(h,{label:"NIB",link:a.nib}),a.iso&&(0,t.jsx)(h,{label:"ISO",link:a.iso}),J()]}),"Perorangan"===l&&(0,t.jsxs)(t.Fragment,{children:[a.ktp&&(0,t.jsx)(h,{label:"KTP",link:a.ktp}),a.npwp&&(0,t.jsx)(h,{label:"NPWP",link:a.npwp}),a.iso&&(0,t.jsx)(h,{label:"ISO",link:a.iso}),J()]})]}):(0,t.jsx)("div",{className:"text-center",children:"Bisnis Owner belum upload dokumen"})})()]})}),A&&(0,t.jsx)(b,{title:z,onClose:()=>O(!1),onSubmit:e=>$(z.includes("ditolak")?"rejected":"pending",e),reason:_,setReason:F,modalType:z.includes("Dokumen Legal")?"docLegal":"boInfo"}),K&&(0,t.jsx)(v,{title:z,onClose:()=>E(!1),onSubmit:e=>{$("rejected",e)},reason:_,setReason:F})]})}}},function(e){e.O(0,[676,461,896,998,205,971,23,744],function(){return e(e.s=2221)}),_N_E=e.O()}]);